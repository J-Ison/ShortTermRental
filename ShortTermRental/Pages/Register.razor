@page "/register"
@using Microsoft.AspNetCore.Components

<div class="login-wrapper">
    <div class="login-card">
        @if (!isSubmitted)
        {
            <h2 class="login-title">Create an Account</h2>
            <p class="login-subtitle">Enter your details to get started</p>

            <div class="form-group">
                <label for="username">Username</label>
                <input id="username"
                       class="form-control"
                       @bind="username" />
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input id="email"
                       type="email"
                       class="form-control"
                       @bind="email" />
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <input id="password"
                       type="password"
                       class="form-control"
                       @bind="password" />
            </div>

            <div class="form-group">
                <label for="confirm">Confirm Password</label>
                <input id="confirm"
                       type="password"
                       class="form-control"
                       @bind="confirmPassword" />
            </div>

            <!-- NOTE: type="button" and @onclick -->
            <button type="button"
                    class="btn btn-login"
                    @onclick="HandleRegistration">
                Create Account
            </button>

            <p class="login-register">
                Already have an account? <a href="/login">Login</a>
            </p>
        }
        else
        {
            <h2 class="login-title">Account Created</h2>
            <p class="login-subtitle">You can now log in with your new account.</p>

            <a href="/login" class="btn btn-login">Go to Login</a>
        }
    </div>
</div>

@code {
    private bool isSubmitted = false;

    private string? username;
    private string? email;
    private string? password;
    private string? confirmPassword;

    private void HandleRegistration()
    {
        // For now: just flip the flag so the UI changes
        isSubmitted = true;

        Console.WriteLine($"Registered: {username}, {email}");
    }
}
